/* eslint-disable */
/*! 
 * weui.js.magic v1.2.2 (https://github.com/xzhih/weui.js.magic)
 * Copyright 2020, wechat ui team & xzhih
 * MIT license
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.weui=t():e.weui=t()}(window,(function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=11)}([function(e,t,n){var i;!function(n,o){o=function(e,t,n){function i(t,n,o){return o=Object.create(i.fn),t&&o.push.apply(o,t.addEventListener?[t]:""+t===t?/</.test(t)?((n=e.createElement(n)).innerHTML=t,n.children):n?(n=i(n)[0])?n.querySelectorAll(t):o:e.querySelectorAll(t):t),o}return i.fn=[],i.one=function(e,t){return i(e,t)[0]||null},i}(document);void 0===(i=function(){return o}.apply(t,[]))||(e.exports=i)}()},function(e,t,n){"use strict";var i=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;function r(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(e){i[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,c,s=r(e),u=1;u<arguments.length;u++){for(var l in n=Object(arguments[u]))o.call(n,l)&&(s[l]=n[l]);if(i){c=i(n);for(var d=0;d<c.length;d++)a.call(n,c[d])&&(s[c[d]]=n[c[d]])}}return s}},function(e,t){e.exports='<div class="<%=className%>"> <div class=weui-mask></div> <div class="weui-dialog <% if(isAndroid){ %> weui-skin_android <% } %>"> <% if(title){ %> <div class=weui-dialog__hd><strong class=weui-dialog__title><%=title%></strong></div> <% } %> <div class=weui-dialog__bd><%=content%></div> <div class=weui-dialog__ft> <% for(var i = 0; i < buttons.length; i++){ %> <a href=javascript:; class="weui-dialog__btn weui-dialog__btn_<%=buttons[i][\'type\']%>"><%=buttons[i][\'label\']%></a> <% } %> </div> </div> </div> '},function(e,t){e.exports='<% if(icon !== \'none\'){ %> <div class="<%= className %>"> <div class=weui-mask_transparent></div> <div class=weui-toast> <i class="weui-icon_toast <%= icon %>"></i> <p class=weui-toast__content><%=content%></p> </div> </div> <% } %> <% if(icon === \'none\'){ %> <div class="<%= className %>"> <div class=weui-mask_transparent></div> <div class=weui-toast style=min-height:0> <p class=weui-toast__content style="margin:15px 0"><%=content%></p> </div> </div> <% } %> '},function(e,t){e.exports='<div class="weui-loading_toast <%= className %>"> <div class=weui-mask_transparent></div> <div class=weui-toast> <i class="weui-loading weui-icon_toast"></i> <p class=weui-toast__content><%=content%></p> </div> </div> '},function(e,t){e.exports='<div class="<% if(isAndroid){ %>weui-skin_android <% } %><%= className %>"> <div class=weui-mask></div> <div class=weui-actionsheet> <% if(!isAndroid && title){ %> <div class=weui-actionsheet__title> <p class=weui-actionsheet__title-text><%= title %></p> </div> <% } %> <div class=weui-actionsheet__menu> <% for(var i = 0; i < menus.length; i++){ %> <div class=weui-actionsheet__cell><%= menus[i].label %></div> <% } %> </div> <div class=weui-actionsheet__action> <% for(var j = 0; j < actions.length; j++){ %> <div class=weui-actionsheet__cell><%= actions[j].label %></div> <% } %> </div> </div> </div> '},function(e,t){e.exports=' <div class="<%= className %>"> <div class=weui-mask></div> <div class="weui-half-screen-dialog weui-picker"> <div class=weui-half-screen-dialog__hd> <div class=weui-half-screen-dialog__hd__side> <button class="weui-icon-btn weui-icon-btn_close weui-picker__btn closetext">关闭</button> </div> <div class=weui-half-screen-dialog__hd__main> <strong class=weui-half-screen-dialog__title>标题</strong> </div> </div> <div class=weui-half-screen-dialog__bd> <div class=weui-picker__bd></div> </div> <div class=weui-half-screen-dialog__ft> <a href=javascript:; class="weui-btn weui-btn_primary weui-picker__btn primarytext" id=weui-picker-confirm data-action=select>确定</a> </div> </div> </div> '},function(e,t){e.exports="<div class=weui-picker__group> <div class=weui-picker__mask></div> <div class=weui-picker__indicator></div> <div class=weui-picker__content></div> </div>"},function(e,t){e.exports='<div class="weui-gallery <%= className %>"> <span class=weui-gallery__img style="background-image:url(<%= url %>)"></span> <% if(showDel){ %> <div class=weui-gallery__opr> <a href=javascript: class=weui-gallery__del> <i class="weui-icon-delete weui-icon_gallery-delete"></i> </a> </div> <% } %> </div> '},function(e,t){e.exports='<div class="weui-toptips weui-toptips_warn <%= className %>" style=display:block><%= content %></div> '},function(e,t){e.exports='<li class="weui-uploader__file weui-uploader__file_status" data-id="<%= id %>"> <div class=weui-uploader__file-content> <i class=weui-loading style=width:30px;height:30px></i> </div> </li> '},function(e,t,n){"use strict";n.r(t),n.d(t,"dialog",(function(){return p})),n.d(t,"toast",(function(){return g})),n.d(t,"loading",(function(){return _})),n.d(t,"actionSheet",(function(){return E})),n.d(t,"picker",(function(){return F})),n.d(t,"datePicker",(function(){return Q})),n.d(t,"gallery",(function(){return z})),n.d(t,"alert",(function(){return J})),n.d(t,"confirm",(function(){return K})),n.d(t,"topTips",(function(){return ne})),n.d(t,"searchBar",(function(){return ie})),n.d(t,"tab",(function(){return oe})),n.d(t,"form",(function(){return ue})),n.d(t,"uploader",(function(){return ve})),n.d(t,"slider",(function(){return me}));var i=n(1),o=n.n(i),a=n(0),r=n.n(a);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}(function(e){var t={},n=e.match(/(Android);?[\s/]+([\d.]+)?/);n&&(t.android=!0,t.version=n[2]),this.os=t}).call(r.a,navigator.userAgent),o()(r.a.fn,{append:function(e){return e instanceof HTMLElement||(e=e[0]),this.forEach((function(t){t.appendChild(e)})),this},remove:function(){return this.forEach((function(e){e.parentNode.removeChild(e)})),this},find:function(e){return r()(e,this)},addClass:function(e){return this.forEach((function(t){t.classList.add(e)})),this},removeClass:function(e){return this.forEach((function(t){t.classList.remove(e)})),this},eq:function(e){return r()(this[e])},show:function(){return this.forEach((function(e){e.style.display="block"})),this},hide:function(){return this.forEach((function(e){e.style.display="none"})),this},html:function(e){return this.forEach((function(t){t.innerHTML=e})),this},css:function(e){var t=this;return Object.keys(e).forEach((function(n){t.forEach((function(t){t.style[n]=e[n]}))})),this},on:function(e,t,n){var i="string"==typeof t&&"function"==typeof n;return i||(n=t),this.forEach((function(o){e.split(" ").forEach((function(e){o.addEventListener(e,(function(e){i?this.contains(e.target.closest(t))&&n.call(e.target,e):n.call(this,e)}))}))})),this},off:function(e,t,n){return"function"==typeof t&&(n=t,t=null),this.forEach((function(i){e.split(" ").forEach((function(e){"string"==typeof t?i.querySelectorAll(t).forEach((function(t){t.removeEventListener(e,n)})):i.removeEventListener(e,n)}))})),this},index:function(){var e=this[0],t=e.parentNode;return Array.prototype.indexOf.call(t.children,e)},offAll:function(){var e=this;return this.forEach((function(t,n){var i=t.cloneNode(!0);t.parentNode.replaceChild(i,t),e[n]=i})),this},val:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length?(this.forEach((function(e){e.value=t[0]})),this):this[0].value},attr:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if("object"===c(t[0])){var i=t[0],o=this;return Object.keys(i).forEach((function(e){o.forEach((function(t){t.setAttribute(e,i[e])}))})),this}return"string"==typeof t[0]&&t.length<2?this[0].getAttribute(t[0]):(this.forEach((function(e){e.setAttribute(t[0],t[1])})),this)}}),o()(r.a,{extend:o.a,noop:function(){},render:function(e,t){var n="var p=[];with(this){p.push('".concat(e.replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'"),"');}return p.join('');");return Function(n).apply(t)},getStyle:function(e,t){var n,i=(e.ownerDocument||document).defaultView;return i&&i.getComputedStyle?(t=t.replace(/([A-Z])/g,"-$1").toLowerCase(),i.getComputedStyle(e,null).getPropertyValue(t)):e.currentStyle?(t=t.replace(/-(\w)/g,(function(e,t){return t.toUpperCase()})),n=e.currentStyle[t],/^\d+(em|pt|%|ex)?$/i.test(n)?function(t){var n=e.style.left,i=e.runtimeStyle.left;return e.runtimeStyle.left=e.currentStyle.left,e.style.left=t||0,t="".concat(e.style.pixelLeft,"px"),e.style.left=n,e.runtimeStyle.left=i,t}(n):n):void 0}});var s,u=r.a,l=n(2),d=n.n(l);var f,p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(s)return s;var t=u.os.android;e=u.extend({title:null,content:"",className:"",buttons:[{label:"确定",type:"primary",onClick:u.noop}],isAndroid:t},e);var n=u(u.render(d.a,e)),i=n.find(".weui-dialog"),o=n.find(".weui-mask");function a(e){a=u.noop,o.addClass("weui-animate-fade-out"),i.addClass("weui-animate-fade-out").on("animationend webkitAnimationEnd",(function(){n.remove(),s=!1,e&&e()}))}function r(e){a(e)}return u("body").append(n),o.addClass("weui-animate-fade-in"),i.addClass("weui-animate-fade-in"),n.on("click",".weui-dialog__btn",(function(t){var n=u(this).index();e.buttons[n].onClick?!1!==e.buttons[n].onClick.call(this,t)&&r():r()})).on("touchmove",(function(e){e.stopPropagation(),e.preventDefault()})),(s=n[0]).hide=r,s},h=n(3),v=n.n(h);var m,g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(f)return f;"number"==typeof t&&(t={duration:t}),"function"==typeof t&&(t={callback:t}),"success"===t.icon&&(t.icon="weui-icon-success-no-circle"),"warn"===t.icon&&(t.icon="weui-icon-warn weui-icon_msg"),"waiting"===t.icon&&(t.icon="weui-icon-waiting weui-icon_msg"),t=u.extend({content:e,duration:3e3,callback:u.noop,className:"",icon:"none"},t);var n=u(u.render(v.a,t)),i=n.find(".weui-toast"),o=n.find(".weui-mask");return u("body").append(n),i.addClass("weui-animate-fade-in"),o.addClass("weui-animate-fade-in"),setTimeout((function(){o.addClass("weui-animate-fade-out"),i.addClass("weui-animate-fade-out").on("animationend webkitAnimationEnd",(function(){n.remove(),f=!1,t.callback()}))}),t.duration),f=n[0],n[0]},w=n(4),y=n.n(w);var b,_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(m)return m;t=u.extend({content:e,className:"",onShow:u.noop},t);var n=u(u.render(y.a,t)),i=n.find(".weui-toast"),o=n.find(".weui-mask");function a(e){a=u.noop,o.addClass("weui-animate-fade-out"),i.addClass("weui-animate-fade-out").on("animationend webkitAnimationEnd",(function(){n.remove(),m=!1,e&&e()}))}function r(e){a(e)}return u("body").append(n),i.addClass("weui-animate-fade-in").on("animationend webkitAnimationEnd",(function(){t.onShow()})),o.addClass("weui-animate-fade-in"),(m=n[0]).hide=r,m},k=n(5),x=n.n(k);var E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(b)return b;var i=u.os.android;n=u.extend({menus:e,actions:t,title:"",className:"",isAndroid:i,onClose:u.noop},n);var o=u(u.render(x.a,n)),a=o.find(".weui-actionsheet"),r=o.find(".weui-mask");function c(e){c=u.noop,a.addClass(n.isAndroid?"weui-animate-fade-out":"weui-animate-slide-down"),r.addClass("weui-animate-fade-out").on("animationend webkitAnimationEnd",(function(){o.remove(),b=!1,n.onClose(),e&&e()}))}function s(e){c(e)}return u("body").append(o),u.getStyle(a[0],"transform"),a.addClass(n.isAndroid?"weui-animate-fade-in":"weui-animate-slide-up"),r.addClass("weui-animate-fade-in").on("click",(function(){s()})),o.find(".weui-actionsheet__menu").on("click",".weui-actionsheet__cell",(function(t){var n=u(this).index();e[n].onClick.call(this,t),s()})),o.find(".weui-actionsheet__action").on("click",".weui-actionsheet__cell",(function(e){var n=u(this).index();t[n].onClick.call(this,e),s()})),(b=o[0]).hide=s,b};function C(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var S=/^(\d+)(?:-(\d+))?(?:\/(\d+))?$/g,j=[[1,31],[1,12],[0,6]],D=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.nDates=t[0],this.nMonths=t[1],this.nDays=t[2],this.nStart=n,this.nEnd=i,this.nPointer=n}var t,n,i;return t=e,(n=[{key:"nFindNext",value:function(){for(var e;;){if(this.nEnd.getTime()-this.nPointer.getTime()<0)throw new Error("out of range, end is ".concat(this.nEnd,", current is ").concat(this.nPointer));var t=this.nPointer.getMonth(),n=this.nPointer.getDate(),i=this.nPointer.getDay();if(-1!==this.nMonths.indexOf(t+1))if(-1!==this.nDates.indexOf(n)){if(-1!==this.nDays.indexOf(i)){e=new Date(this.nPointer);break}this.nPointer.setDate(n+1)}else this.nPointer.setDate(n+1);else this.nPointer.setMonth(t+1),this.nPointer.setDate(1)}return e}},{key:"next",value:function(){var e=this.nFindNext();return this.nPointer.setDate(this.nPointer.getDate()+1),{value:e,done:!this.hasNext()}}},{key:"hasNext",value:function(){try{return this.nFindNext(),!0}catch(e){return!1}}}])&&C(t.prototype,n),i&&C(t,i),e}();var P={parse:function(e,t,n){var i=e.replace(/^\s\s*|\s\s*$/g,"").split(/\s+/),o=[];return i.forEach((function(e,t){var n=j[t];o.push(function(e,t){for(var n=t[0],i=t[1],o=[],a=(e=e.replace(/\*/g,"".concat(n,"-").concat(i))).split(","),r=0,c=a.length;r<c;r++){var s=a[r];s.match(S)&&s.replace(S,(function(e,t,a,r){r=parseInt(r)||1,t=Math.min(Math.max(n,~~Math.abs(t)),i),a=a?Math.min(i,~~Math.abs(a)):t;for(var c=t;c<=a;c+=r)o.push(c)}))}return o}(e,n))})),new D(o,t,n)}};function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var O=function(e,t){return e.css({"-webkit-transition":"all ".concat(t,"s"),transition:"all ".concat(t,"s")})},A=function(e,t){return e.css({"-webkit-transform":"translate3d(0, ".concat(t,"px, 0)"),transform:"translate3d(0, ".concat(t,"px, 0)")})},N=function(e){for(var t=Math.floor(e.length/2),n=0;e[t]&&e[t].disabled;)if(t=(t+=1)%e.length,(n+=1)>e.length)throw new Error("No selectable item.");return t};u.fn.scroll=function(e){var t=this,n=u.extend({items:[],scrollable:".weui-picker__content",offset:2,rowHeight:48,onChange:u.noop,temp:null,bodyHeight:240},e),i=n.items.map((function(e){return'<div class="weui-picker__item'.concat(e.disabled?" weui-picker__item_disabled":"",'">').concat("object"===M(e)?e.label:e,"</div>")})).join(""),o=u(this);o.find(".weui-picker__content").html(i);var a,r,c,s,l=o.find(n.scrollable),d=[];if(null!==n.temp&&n.temp<n.items.length){var f=n.temp;n.onChange.call(this,n.items[f],f),s=(n.offset-f)*n.rowHeight}else{var p=N(n.items);n.onChange.call(this,n.items[p],p),s=function(e,t,n){return(e-N(n))*t}(n.offset,n.rowHeight,n.items)}A(l,s);var h=function(e){s+=e,s=Math.round(s/n.rowHeight)*n.rowHeight;var i,o,a=(i=n.offset,o=n.rowHeight,i*o),r=function(e,t,n){return-t*(n-e-1)}(n.offset,n.rowHeight,n.items.length);s>a&&(s=a),s<r&&(s=r);for(var c=n.offset-s/n.rowHeight;n.items[c]&&n.items[c].disabled;)e>0?c+=1:c-=1;s=(n.offset-c)*n.rowHeight,O(l,.3),A(l,s),n.onChange.call(t,n.items[c],c)};function v(e){a=e,c=+new Date}function m(e){var t=(r=e)-a;O(l,0),A(l,s+t),c=+new Date,d.push({time:c,y:r}),d.length>40&&d.shift()}function g(e){if(a){var t=(new Date).getTime(),i=o[0].getBoundingClientRect().top+n.bodyHeight/2;if(r=e,t-c>100)Math.abs(r-a)>10?h(r-a):h(i-r);else if(Math.abs(r-a)>10){for(var s=d.length-1,u=s,l=s;l>0&&c-d[l].time<100;l-=1)u=l;if(u!==s){var f=d[s],p=d[u],v=f.time-p.time,m=f.y-p.y;h(150*(m/v)+(r-a))}else h(0)}else h(i-r);a=null}}l=o.offAll().on("touchstart",(function(e){v(e.changedTouches[0].pageY)})).on("touchmove",(function(e){m(e.changedTouches[0].pageY),e.preventDefault()})).on("touchend",(function(e){g(e.changedTouches[0].pageY)})).find(n.scrollable),"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch||o.on("mousedown",(function(e){v(e.pageY),e.stopPropagation(),e.preventDefault()})).on("mousemove",(function(e){a&&(m(e.pageY),e.stopPropagation(),e.preventDefault())})).on("mouseup mouseleave",(function(e){g(e.pageY),e.stopPropagation(),e.preventDefault()}))};var T,L=function e(t){var n=1;return t.children&&t.children[0]&&(n=e(t.children[0])+1),n},I=n(6),R=n.n(I),U=n(7),q=n.n(U);function H(e){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function B(e){"object"!==H(e)&&(e={label:e,value:e}),u.extend(this,e)}B.prototype.toString=function(){return(void 0).value},B.prototype.valueOf=function(){return(void 0).value};var V={};function F(){var e;if(T)return T;var t,n=(e=arguments.length-1)<0||arguments.length<=e?void 0:arguments[e],i=u.extend({id:"default",className:"",container:"body",title:"",desc:"",primarytext:"",closetext:"",onChange:u.noop,onConfirm:u.noop,onClose:u.noop},n),o=!1;if(arguments.length>2){var a=0;for(t=[];a<arguments.length-1;){var r;t.push((r=a++)<0||arguments.length<=r?void 0:arguments[r])}o=!0}else t=arguments.length<=0?void 0:arguments[0];V[i.id]=V[i.id]||[];var c=[],s=V[i.id],l=u(u.render(R.a,i)),d=n.depth||(o?t.length:L(t[0])),f="";function p(){u(i.container).append(l),u.getStyle(l[0],"transform"),l.find(".weui-half-screen-dialog__title").html(i.title),l.find(".primarytext").html(i.primarytext),l.find(".closetext").html(i.closetext),l.find(".weui-mask").addClass("weui-animate-fade-in"),l.find(".weui-picker").addClass("weui-animate-slide-up")}function h(e){h=u.noop,l.find(".weui-mask").addClass("weui-animate-fade-out"),l.find(".weui-picker").addClass("weui-animate-slide-down").on("animationend webkitAnimationEnd",(function(){l.remove(),T=!1,i.onClose(),e&&e()}))}function v(e){h(e)}function m(e,t){if(void 0===s[t]&&i.defaultValue&&void 0!==i.defaultValue[t]){var n=i.defaultValue[t],a=0,r=e.length;if("object"===H(e[a]))for(;a<r&&n!==e[a].value;++a);else for(;a<r&&n!==e[a];++a);a<r?s[t]=a:console.warn("Picker has not match defaultValue: ".concat(n))}l.find(".weui-picker__group").eq(t).scroll({items:e,temp:s[t],onChange:function(e,n){(c[t]=e?new B(e):null,s[t]=n,o)?c.length===d&&i.onChange(c):e.children&&e.children.length>0?(l.find(".weui-picker__group").eq(t+1).show(),o||m(e.children,t+1)):(l.find(".weui-picker__group").forEach((function(e,n){n>t&&u(e).hide()})),c.splice(t+1),i.onChange(c))},onConfirm:i.onConfirm})}for(var g=d;g>0;g-=1)f+=q.a;return l.find(".weui-picker__bd").html(f),p(),o?t.forEach((function(e,t){m(e,t)})):m(t,0),l.on("click",".weui-mask",(function(){v()})).on("click",".weui-picker__btn",(function(){v()})).on("click","#weui-picker-confirm",(function(){i.onConfirm(c)})),(T=l[0]).hide=v,T}function Q(e){var t=new Date,n=u.extend({id:"datePicker",onChange:u.noop,onConfirm:u.noop,start:t.getFullYear()-20,end:t.getFullYear()+20,defaultValue:[t.getFullYear(),t.getMonth()+1,t.getDate()],cron:"* * *"},e);"number"==typeof n.start?n.start=new Date("".concat(n.start,"/01/01")):"string"==typeof n.start&&(n.start=new Date(n.start.replace(/-/g,"/"))),"number"==typeof n.end?n.end=new Date("".concat(n.end,"/12/31")):"string"==typeof n.end&&(n.end=new Date(n.end.replace(/-/g,"/")));var i,o=function(e,t,n){for(var i=0,o=e.length;i<o;i++){var a=e[i];if(a[t]===n)return a}},a=[],r=P.parse(n.cron,n.start,n.end);do{var c=(i=r.next()).value.getFullYear(),s=i.value.getMonth()+1,l=i.value.getDate(),d=o(a,"value",c);d||(d={label:"".concat(c,"年"),value:c,children:[]},a.push(d));var f=o(d.children,"value",s);f||(f={label:"".concat(s,"月"),value:s,children:[]},d.children.push(f)),f.children.push({label:"".concat(l,"日"),value:l})}while(!i.done);return F(a,n)}var Y,$=n(8),X=n.n($);var z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Y)return Y;t=u.extend({url:e,className:"",showDel:!1,onDelete:u.noop},t);var n=u(u.render(X.a,t));function i(e){i=u.noop,n.addClass("weui-animate-fade-out").on("animationend webkitAnimationEnd",(function(){n.remove(),Y=!1,e&&e()}))}function o(e){i(e)}return u("body").append(n),n.find(".weui-gallery__img").on("click",(function(){o()})),n.find(".weui-gallery__del").on("click",(function(n){var i=n.target;t.onDelete.call(i,e)})),n.show().addClass("weui-animate-fade-in"),(Y=n[0]).hide=o,Y};function G(e){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.noop,n=arguments.length>2?arguments[2]:void 0;return"object"===G(t)&&(n=t,t=u.noop),n=u.extend({content:e,buttons:[{label:"确定",type:"primary",onClick:t}]},n),p(n)};function Z(e){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.noop,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.noop,i=arguments.length>3?arguments[3]:void 0;return"object"===Z(t)?(i=t,t=u.noop):"object"===Z(n)&&(i=n,n=u.noop),i=u.extend({content:e,buttons:[{label:"取消",type:"default",onClick:n},{label:"确定",type:"primary",onClick:t}]},i),p(i)},W=n(9),ee=n.n(W),te=null;var ne=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"number"==typeof t&&(t={duration:t}),"function"==typeof t&&(t={callback:t}),t=u.extend({content:e,duration:3e3,callback:u.noop,className:""},t);var n=u(u.render(ee.a,t));function i(e){i=u.noop,n.remove(),e&&e(),t.callback(),te=null}function o(e){i(e)}return u("body").append(n),te&&(clearTimeout(te.timeout),te.hide()),(te={hide:o}).timeout=setTimeout(o,t.duration),n[0].hide=o,n[0]};var ie=function(e){var t=u(e);return t.forEach((function(e){var t=u(e),n=t.find(".weui-search-bar__label"),i=t.find(".weui-search-bar__input"),o=t.find(".weui-icon-clear"),a=t.find(".weui-search-bar__cancel-btn");function r(){i.val(""),t.removeClass("weui-search-bar_focusing")}n.on("click",(function(){t.addClass("weui-search-bar_focusing"),i[0].focus()})),i.on("blur",(function(e){e.target.value.length||r()})),o.on("click",(function(){i.val(""),i[0].focus()})),a.on("click",(function(){r(),i[0].blur()}))})),t};var oe=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=u(e);return n=u.extend({defaultIndex:0,onChange:u.noop},n),i.forEach((function(e){var i=u(e),o=i.find(".weui-navbar__item, .weui-tabbar__item"),a=i.find(".weui-tab__content");o.eq(n.defaultIndex).addClass("weui-bar__item_on"),a.eq(n.defaultIndex).show(),o.on("click",(function(e){var i=e.target,r=u(i),c=r.index();o.removeClass("weui-bar__item_on"),r.addClass("weui-bar__item_on"),a.hide(),a.eq(c).show(),n.onChange.call(t,c)}))})),this};function ae(e){return e&&e.classList?e.classList.contains("weui-cell")?e:ae(e.parentNode):null}function re(e,t,n){var i=e[0],o=e.val();if("INPUT"===i.tagName||"TEXTAREA"===i.tagName){var a=i.getAttribute("pattern")||"";if("radio"===i.type){for(var r=t.find('input[type="radio"][name="'.concat(i.name,'"]')),c=0,s=r.length;c<s;c++)if(r[c].checked)return null;return"empty"}if("checkbox"===i.type){if(a){var u=t.find('input[type="checkbox"][name="'.concat(i.name,'"]')),l=a.replace(/[{\s}]/g,"").split(","),d=0;if(2!==l.length)throw new Error("".concat(i.outerHTML," regexp is wrong."));return u.forEach((function(e){e.checked&&(d+=1)})),""===l[1]?d>=parseInt(l[0])?null:0===d?"empty":"notMatch":parseInt(l[0])<=d&&d<=parseInt(l[1])?null:0===d?"empty":"notMatch"}return i.checked?null:"empty"}if(a){if(/^REG_/.test(a)){if(!n)throw new Error("RegExp ".concat(a," is empty."));if(!n[a=a.replace(/^REG_/,"")])throw new Error("RegExp ".concat(a," has not found."));a=n[a]}var f=e.val().length?"notMatch":"empty";return new RegExp(a).test(o)?null:f}return e.val().length?null:"empty"}return o.length?null:"empty"}function ce(e){if(e){var t=u(e.ele),n=e.msg,i=t.attr("".concat(n,"Tips"))||t.attr("tips")||t.attr("placeholder");if(i&&ne(i),"checkbox"===e.ele.type||"radio"===e.ele.type)return;var o=ae(e.ele);o&&o.classList.add("weui-cell_warn")}}function se(e){var t=ae(e);t&&t.classList.remove("weui-cell_warn")}var ue={showErrorTips:ce,hideErrorTips:se,validate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.noop,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=u(e);return i.forEach((function(e){var i=u(e),o=i.find("[required]");"function"!=typeof t&&(t=ce);for(var a=0,r=o.length;a<r;a++){var c=o.eq(a),s=re(c,i,n.regexp),l={ele:c[0],msg:s};if(s)return void(t(l)||ce(l))}t(null)})),this},checkIfBlur:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=u(e);return n.forEach((function(e){var n=u(e);n.find("[required]").on("blur",(function(e){var i=e.target;if("checkbox"!==i.type&&"radio"!==i.type){var o=u(i);if(!(o.val().length<1)){var a=re(o,n,t.regexp);a&&ce({ele:o[0],msg:a})}}})).on("focus",(function(e){se(e.target)}))})),this}},le=n(10),de=n.n(le);function fe(e){for(var t=atob(e.split(",")[1]),n=new ArrayBuffer(t.length),i=new Uint8Array(n),o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return n}var pe=function(e,t,n){var i=new FileReader;i.onload=function(i){if(!1===t.compress)return e.base64=i.target.result,void n(e);var o=new Image;o.onload=function(){var i,a,r,c,s=function(e){var t,n=e.naturalHeight,i=document.createElement("canvas");i.width=1,i.height=n;var o=i.getContext("2d");o.drawImage(e,0,0);try{t=o.getImageData(0,0,1,n).data}catch(e){return console.error("Cannot check verticalSquash: CORS?"),1}for(var a=0,r=n,c=n;c>a;){0===t[4*(c-1)+3]?r=c:a=c,c=r+a>>1}var s=c/n;return 0===s?1:s}(o),u=function(e){var t=new DataView(e);if(65496!==t.getUint16(0,!1))return-2;for(var n=t.byteLength,i=2;i<n;){var o=t.getUint16(i,!1);if(i+=2,65505===o){if(1165519206!==t.getUint32(i+=2,!1))return-1;var a=18761===t.getUint16(i+=6,!1);i+=t.getUint32(i+4,a);var r=t.getUint16(i,a);i+=2;for(var c=0;c<r;c++)if(274===t.getUint16(i+12*c,a))return t.getUint16(i+12*c+8,a)}else{if(65280!=(65280&o))break;i+=t.getUint16(i,!1)}}return-1}(fe(o.src)),l=document.createElement("canvas"),d=l.getContext("2d"),f=t.compress.width,p=t.compress.height,h=o.width,v=o.height;if(h<v&&v>p?(h=parseInt(p*o.width/o.height),v=p):h>=v&&h>f&&(v=parseInt(f*o.height/o.width),h=f),l.width=h,l.height=v,u>0&&function(e,t,n){var i=e.width,o=e.height;switch(n>4&&(e.width=o,e.height=i),n){case 2:t.translate(i,0),t.scale(-1,1);break;case 3:t.translate(i,o),t.rotate(Math.PI);break;case 4:t.translate(0,o),t.scale(1,-1);break;case 5:t.rotate(.5*Math.PI),t.scale(1,-1);break;case 6:t.rotate(.5*Math.PI),t.translate(0,-o);break;case 7:t.rotate(.5*Math.PI),t.translate(i,-o),t.scale(-1,1);break;case 8:t.rotate(-.5*Math.PI),t.translate(-i,0)}}(l,d,u),d.drawImage(o,0,0,h,v/s),i=/image\/jpeg/.test(e.type)||/image\/jpg/.test(e.type)?l.toDataURL("image/jpeg",t.compress.quality):l.toDataURL(e.type),"file"===t.type)if(/;base64,null/.test(i)||/;base64,$/.test(i))console.warn("Compress fail, dataURL is ".concat(i,". Next will use origin file to upload.")),n(e);else{var m=(r=(a=i).split(",")[0].split(":")[1].split(";")[0],c=fe(a),new Blob([c],{type:r}));m.id=e.id,m.name=e.name,m.lastModified=e.lastModified,m.lastModifiedDate=e.lastModifiedDate,n(m)}else/;base64,null/.test(i)||/;base64,$/.test(i)?(t.onError(e,new Error("Compress fail, dataURL is ".concat(i,"."))),n()):(e.base64=i,n(e))},o.src=i.target.result},i.readAsDataURL(e)};var he=0;var ve=function(e,t){var n=this,i=u(e),o=window.URL||window.webkitURL||window.mozURL;function a(e,t){var n=e.find('[data-id="'.concat(t,'"]')),i=n.find(".weui-uploader__file-content");return i.length||(i=u('<div class="weui-uploader__file-content"></div>'),n.append(i)),n.addClass("weui-uploader__file_status"),i}function r(e,t){e.find('[data-id="'.concat(t,'"]')).removeClass("weui-uploader__file_status").find(".weui-uploader__file-content").remove()}function c(e){var n=this;e.url=o.createObjectURL(e),e.status="ready",e.upload=function(){!function(e){var t=e.url,n=e.file,i=e.fileVal,o=e.onBeforeSend,a=e.onProgress,r=e.onError,c=e.onSuccess,s=e.xhrFields,u=n.name,l=n.type,d=n.lastModifiedDate,f={name:u,type:l,size:"file"===e.type?n.size:n.base64.length,lastModifiedDate:d},p={};if(!1!==o(n,f,p)){n.status="progress",a(n,0);var h=new FormData,v=new XMLHttpRequest;n.xhr=v,Object.keys(f).forEach((function(e){h.append(e,f[e])})),"file"===e.type?h.append(i,n,u):h.append(i,n.base64),v.onreadystatechange=function(){if(4===v.readyState)if(200===v.status)try{var e=JSON.parse(v.responseText);c(n,e)}catch(e){r(n,e)}else r(n,new Error("XMLHttpRequest response status is ".concat(v.status)))},v.upload.addEventListener("progress",(function(e){if(0!==e.total){var t=100*Math.ceil(e.loaded/e.total);a(n,t)}}),!1),v.open("POST",t),Object.keys(s).forEach((function(e){v[e]=s[e]})),Object.keys(p).forEach((function(e){v.setRequestHeader(e,p[e])})),v.send(h)}}(u.extend({$uploader:i,file:e},t))},e.stop=function(){n.xhr.abort()},t.onQueued(e),t.auto&&e.upload()}if(!1!==(t=u.extend({url:"",auto:!0,type:"file",fileVal:"file",xhrFields:{},onBeforeQueued:u.noop,onQueued:u.noop,onBeforeSend:u.noop,onSuccess:u.noop,onProgress:u.noop,onError:u.noop},t)).compress&&(t.compress=u.extend({width:1600,height:1600,quality:.8},t.compress)),t.onBeforeQueued){var s=t.onBeforeQueued;t.onBeforeQueued=function(e,t){var n=s.call(e,t);if(!1===n)return!1;if(!0!==n){var o=u(u.render(de.a,{id:e.id}));i.find(".weui-uploader__files").append(o)}}}if(t.onQueued){var l=t.onQueued;t.onQueued=function(e){l.call(e)||(i.find('[data-id="'.concat(e.id,'"]')).css({backgroundImage:'url("'.concat(e.base64||e.url,'")')}),t.auto||r(i,e.id))}}if(t.onBeforeSend){var d=t.onBeforeSend;t.onBeforeSend=function(e,t,n){if(!1===d.call(e,t,n))return!1}}if(t.onSuccess){var f=t.onSuccess;t.onSuccess=function(e,t){e.status="success",f.call(e,t)||r(i,e.id)}}if(t.onProgress){var p=t.onProgress;t.onProgress=function(e,t){p.call(e,t)||a(i,e.id).html("".concat(t,"%"))}}if(t.onError){var h=t.onError;t.onError=function(e,t){e.status="fail",h.call(e,t)||a(i,e.id).html('<i class="weui-icon-warn"></i>')}}i.find('input[type="file"]').on("change",(function(e){var i=e.target.files;0!==i.length&&(!1===t.compress&&"file"===t.type?Array.prototype.forEach.call(i,(function(e){he+=1,e.id=he,!1!==t.onBeforeQueued(e,i)&&c(e)})):Array.prototype.forEach.call(i,(function(e){he+=1,e.id=he,!1!==t.onBeforeQueued(e,i)&&pe(e,t,(function(e){e&&c(e)}))})),n.value="")}))};var me=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=u(e);if(void 0!==(t=u.extend({step:void 0,defaultValue:0,onChange:u.noop},t)).step&&(t.step=parseFloat(t.step),!t.step||t.step<0))throw new Error("Slider step must be a positive number.");if(void 0!==t.defaultValue&&(t.defaultValue<0||t.defaultValue>100))throw new Error("Slider defaultValue must be >= 0 and <= 100.");return n.forEach((function(e){var n,i=u(e),o=i.find(".weui-slider__inner"),a=i.find(".weui-slider__track"),r=i.find(".weui-slider__handler"),c=parseInt(u.getStyle(o[0],"width")),s=o[0].offsetLeft,l=0,d=0;function f(){var e=u.getStyle(r[0],"left");return e=/%/.test(e)?c*parseFloat(e)/100:parseFloat(e)}function p(i){var o,s;t.step&&(i=Math.round(i/n)*n),s=100*(o=(o=l+i)<0?0:o>c?c:o)/c,a.css({width:"".concat(s,"%")}),r.css({left:"".concat(s,"%")}),t.onChange.call(e,s)}t.step&&(n=c*t.step/100),t.defaultValue&&p(c*t.defaultValue/100),i.on("click",(function(e){e.preventDefault(),l=f(),p(e.pageX-s-l)})),r.on("touchstart",(function(e){l=f(),d=e.changedTouches[0].clientX})).on("touchmove",(function(e){e.preventDefault(),p(e.changedTouches[0].clientX-d)}))})),this},ge={dialog:p,toast:g,loading:_,actionSheet:E,picker:F,datePicker:Q,gallery:z,alert:J,confirm:K,topTips:ne,searchBar:ie,tab:oe,form:ue,uploader:ve,slider:me};t.default=ge}])}));